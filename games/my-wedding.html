<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>My Wedding - 免费在线玩 - AllPopularGames</title>
    <meta name="description" content="立即在线玩My Wedding，一款精彩的Dress-up游戏。不需下载，即点即玩。">
    <meta name="keywords" content="My Wedding, Dress-up, 免费游戏, 在线游戏, 休闲游戏, HTML5游戏">
    <meta name="author" content="AllPopularGames">
    <meta property="og:title" content="My Wedding - 免费在线玩 - AllPopularGames">
    <meta property="og:description" content="立即在线玩My Wedding，一款精彩的Dress-up游戏。不需下载，即点即玩。">
    <meta property="og:image" content="https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac">
    <meta property="og:url" content="https://allpopulargames.online/games/my-wedding.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="AllPopularGames">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="My Wedding - 免费在线玩">
    <meta name="twitter:description" content="立即在线玩My Wedding，一款精彩的Dress-up游戏。不需下载，即点即玩。">
    <meta name="twitter:image" content="https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac">
    <link rel="canonical" href="https://allpopulargames.online/games/my-wedding.html">
    <!-- 预加载关键资源 -->
    <link rel="preload" href="https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac" as="image" fetchpriority="high">
    <link rel="preload" href="../styles.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" as="style">
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- 添加Font Display Swap提高字体加载性能 -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- 添加DNS预取 -->
    <link rel="dns-prefetch" href="https://img.cdn.famobi.com">
    <link rel="dns-prefetch" href="https://play.famobi.com">

    <style>
        /* 页面布局 */
        .game-detail-container {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        /* 游戏展示区 */
        .game-showcase {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            background: rgba(0,0,0,0.7);
            border-radius: 12px;
            overflow: hidden;
            -webkit-box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }
        
        .game-image {
            -webkit-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            min-height: 300px;
            background-position: center;
            background-size: cover;
            position: relative;
        }
        
        .game-info {
            -webkit-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            padding: 30px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
        }
        
        /* 游戏信息 */
        .game-title {
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            color: white;
            -webkit-text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .game-type-badge {
            display: inline-block;
            background: var(--accent-blue);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        .game-description {
            color: #ccc;
            line-height: 1.6;
            margin-bottom: 20px;
            -webkit-box-flex: 1;
            -ms-flex-positive: 1;
            flex-grow: 1;
        }
        
        /* 游戏特性 */
        .game-features {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .feature {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            gap: 5px;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* 播放按钮 */
        .play-button {
            display: -webkit-inline-box;
            display: -ms-inline-flexbox;
            display: inline-flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            background: -webkit-linear-gradient(315deg, #4CAF50, #2E7D32);
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 12px;
            text-decoration: none;
            -webkit-box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
            border: none;
            cursor: pointer;
            -webkit-transition: all 0.3s ease;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: auto;
        }
        
        .play-button:hover {
            -webkit-transform: translateY(-2px);
            transform: translateY(-2px);
            -webkit-box-shadow: 0 6px 20px rgba(46, 125, 50, 0.6);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.6);
            background: -webkit-linear-gradient(315deg, #2E7D32, #1B5E20);
            background: linear-gradient(135deg, #2E7D32, #1B5E20);
        }
        
        .play-button i {
            margin-right: 12px;
            font-size: 1.5rem;
        }
        
        /* 加载动画 */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.1);
            border-top-color: #4CAF50;
            border-radius: 50%;
            -webkit-animation: spin 1s ease-in-out infinite;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        
        @-webkit-keyframes spin {
            to { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
        }
        
        @keyframes spin {
            to { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .game-showcase {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column;
            }
            
            .game-image {
                min-height: 200px;
            }
            
            .games-row {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .game-title {
                font-size: 2rem;
            }
            
            .play-button {
                font-size: 1.2rem;
                padding: 12px 24px;
            }
        }

        /* 针对IE11的特别处理 */
        @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
            .game-detail-container, .game-showcase, .game-info, .game-features, .feature {
                display: block;
            }
            
            .game-image, .game-info {
                width: 50%;
                float: left;
            }
            
            .game-features:after {
                content: '';
                display: table;
                clear: both;
            }
            
            .feature {
                display: inline-block;
                margin-right: 15px;
            }
        }
        
        /* SEO内容区域 */
        .game-content-seo {
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .game-content-seo h2, .game-content-seo h3 {
            color: white;
            margin-top: 0;
        }
        
        .game-content-seo p, .game-content-seo li {
            color: #ccc;
            line-height: 1.6;
        }
        
        .game-content-seo ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }
        
        .game-content-seo li {
            margin-bottom: 8px;
        }
        
        /* 相关游戏 */
        .related-games h2 {
            color: white;
            margin-bottom: 20px;
        }
        
        .games-row {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .game-card-small {
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            overflow: hidden;
            -webkit-transition: all 0.3s;
            transition: all 0.3s;
        }
        
        .game-card-small:hover {
            -webkit-transform: translateY(-5px);
            transform: translateY(-5px);
            -webkit-box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        
        .game-card-small img {
            width: 100%;
            height: 120px;
            -o-object-fit: cover;
            object-fit: cover;
        }
        
        .game-card-small h3 {
            color: white;
            font-size: 1rem;
            padding: 10px 15px;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .btn-small {
            display: block;
            background: var(--accent-blue);
            color: white;
            text-align: center;
            padding: 8px;
            text-decoration: none;
            -webkit-transition: all 0.3s;
            transition: all 0.3s;
        }
        
        .btn-small:hover {
            background: var(--accent-blue-dark);
        }
        
        /* 广告容器 */
        .ad-container {
            margin: 20px 0;
            text-align: center;
            background: rgba(0,0,0,0.4);
            padding: 10px;
            border-radius: 8px;
            position: relative;
        }
        
        .ad-label {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.5);
            color: #aaa;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 4px;
        }
        
        /* 确保在较小屏幕上文本可读性 */
        @media (max-width: 480px) {
            .game-title {
                font-size: 1.8rem;
            }
            
            .game-description {
                font-size: 0.95rem;
            }
            
            .game-content-seo p, .game-content-seo li {
                font-size: 0.95rem;
            }
            
            .game-content-seo h2 {
                font-size: 1.5rem;
            }
            
            .game-content-seo h3 {
                font-size: 1.2rem;
            }
        }
        
        /* 面包屑导航样式 */
        .breadcrumb {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0 0 20px 0;
            font-size: 0.9rem;
        }
        
        .breadcrumb li {
            display: inline-flex;
            align-items: center;
        }
        
        .breadcrumb li a {
            color: var(--accent-blue);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .breadcrumb li a:hover {
            color: var(--accent-blue-dark);
            text-decoration: underline;
        }
        
        .breadcrumb li:not(:last-child)::after {
            content: '/';
            margin: 0 8px;
            color: #aaa;
        }
        
        .breadcrumb li:last-child {
            color: #fff;
        }
    </style>
    <!-- 游戏结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "My Wedding",
      "description": "《My Wedding》是一款精彩的Dress-up游戏。一款有趣的在线游戏，随时随地畅玩。  无需下载，直接在浏览器中即可开始游戏，支持电脑和手机设备。点击\"开始游戏\"立即体验！",
      "genre": "Dress-up",
      "image": "https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac",
      "url": "https://allpopulargames.online/games/my-wedding.html",
      "playMode": "SinglePlayer",
      "applicationCategory": "Game",
      "gamePlatform": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      }
    }
    </script>
    <!-- 面包屑导航结构化数据 -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "首页",
        "item": "https://allpopulargames.online/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Dress-up游戏",
        "item": "https://allpopulargames.online/category/dress-up.html"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "My Wedding",
        "item": "https://allpopulargames.online/games/my-wedding.html"
      }
    ]
  }
    </script>
    <script src="../scripts/i18n.js"></script>

    <script>
      // 动态更新页面元数据以支持国际化
      function updatePageMetadata() {
        const lang = localStorage.getItem('preferred_language') || 'zh';
        const title = document.querySelector('title');
        const metaDesc = document.querySelector('meta[name="description"]');
        const metaKeywords = document.querySelector('meta[name="keywords"]');
        const ogTitle = document.querySelector('meta[property="og:title"]');
        const ogDesc = document.querySelector('meta[property="og:description"]');
        const twitterTitle = document.querySelector('meta[name="twitter:title"]');
        const twitterDesc = document.querySelector('meta[name="twitter:description"]');
        
        // 游戏基本信息
        const gameTitle = "My Wedding";
        const category = "Dress-up";
        
        // 翻译映射
        const translations = {
          suffix: {
            zh: ' - 免费在线玩 - AllPopularGames',
            en: ' - Play Free Online - AllPopularGames'
          },
          description: {
            zh: '立即在线玩'+gameTitle+'，一款精彩的换装游戏。不需下载，即点即玩。',
            en: 'Play '+gameTitle+' online now, an exciting Dress-up game. No download required, just click and play.'
          },
          keywords: {
            zh: gameTitle+', 换装, 免费游戏, 在线游戏, 休闲游戏, HTML5游戏',
            en: gameTitle+', Dress-up, free games, online games, casual games, HTML5 games'
          }
        };
        
        // 更新标题和元数据
        if (title) title.textContent = gameTitle + translations.suffix[lang];
        if (metaDesc) metaDesc.content = translations.description[lang];
        if (metaKeywords) metaKeywords.content = translations.keywords[lang];
        if (ogTitle) ogTitle.content = gameTitle + translations.suffix[lang];
        if (ogDesc) ogDesc.content = translations.description[lang];
        if (twitterTitle) twitterTitle.content = gameTitle + (lang === 'zh' ? ' - 免费在线玩' : ' - Play Free Online');
        if (twitterDesc) twitterDesc.content = translations.description[lang];
      }
      
      // 页面加载和语言变化时更新元数据
      document.addEventListener('DOMContentLoaded', updatePageMetadata);
      window.addEventListener('languageChanged', updatePageMetadata);
      
      // 立即执行一次（如果DOM已经加载完成）
      if (document.readyState !== 'loading') {
        updatePageMetadata();
      }
    </script>
  
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <a href="../index.html">
                    <img src="../images/logo.png" alt="AllPopularGames Logo" width="40" height="40" loading="eager">
                    <h1>AllPopular<span>Games</span></h1>
                </a>
            </div>
            <a href="../index.html" class="btn-back">
                <i class="fas fa-home"></i> 返回首页
            </a>
        </div>
    </header>

    <main>
        <div class="game-detail-container">
            <!-- 面包屑导航 -->
            <ul class="breadcrumb" aria-label="面包屑导航">
                <li><a href="../index.html">首页</a></li>
                <li><a href="../category/dress-up.html">Dress-up游戏</a></li>
                <li>My Wedding</li>
            </ul>
            
            <div class="game-showcase">
                <div class="game-image" style="background-image: url('https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac')"></div>
        <div class="game-info">
                    <h1 class="game-title">My Wedding</h1>
                    <span class="game-type-badge">Dress-up</span>
                    
                    <p class="game-description">
                      《My Wedding》是一款精彩的Dress-up游戏。一款有趣的在线游戏，随时随地畅玩。  无需下载，直接在浏览器中即可开始游戏，支持电脑和手机设备。点击"开始游戏"立即体验！
                    </p>
                    
                    <div class="game-features">
                        <div class="feature">
                            <i class="fas fa-gamepad"></i>
                            <span>免费游戏</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-globe"></i>
                            <span>在线玩</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-mobile-alt"></i>
                            <span>全设备支持</span>
                        </div>
                    </div>
                    
                    <button onclick="playGame()" class="play-button">
                        <i class="fas fa-play-circle"></i>
                        开始游戏
                </button>
                </div>
            </div>
            
            <!-- SEO内容区域 -->
            <div class="game-content-seo">
                <h2>关于 My Wedding</h2>
                <div class="seo-content">
                    <p>《My Wedding》为玩家提供了精彩的游戏体验。这款游戏设计精良，玩法简单但富有深度，适合各年龄段的玩家。游戏画面精美，音效出色，为玩家创造了一个身临其境的游戏环境。</p>
                    
                    <h3>游戏特点</h3>
                    <ul>
                        <li>完全免费游玩</li><li>无需下载，即点即玩</li><li>支持电脑和手机设备</li><li>精美的游戏画面</li><li>简单易懂的操作</li><li>适合所有年龄段玩家</li>
                    </ul>
                    
                    <h3>如何开始</h3>
                    <p>点击上方的"开始游戏"按钮，即可立即体验《My Wedding》。游戏完全免费，无需下载，支持PC和移动设备。</p>
            </div>
            </div>
            
            <!-- 广告位 -->
            <div class="ad-container">
                <div class="ad-label">广告</div>
                <div id="game-detail-ad">
                    <!-- 广告代码将通过JavaScript插入 -->
                </div>
            </div>
            
            <!-- 相关游戏 -->
            <div class="related-games">
                <h2>您可能也喜欢</h2>
                <div class="games-row" id="related-games-container">
                    <!-- 相关游戏将通过JavaScript动态加载 -->
                    <p style="color: #aaa;">正在加载相关游戏...</p>
                </div>
            </div>
        </div>
        
        <div id="loadingOverlay" class="loading-overlay">
            <div class="loading-spinner"></div>
            <p style="color: white; font-size: 18px; margin: 10px 0;">正在加载游戏，请稍候...</p>
            <img src="https://img.cdn.famobi.com/portal/html5games/images/tmp/MyWeddingTeaser.jpg?v=0.2-e9a56fac" alt="My Wedding" style="width:150px; margin-top:15px;">
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="../about.html">关于我们</a>
                <a href="../privacy.html">隐私政策</a>
                <a href="../terms.html">使用条款</a>
                <a href="../contact.html">联系我们</a>
            </div>
            <p class="copyright">&copy; 2024 AllPopularGames. 保留所有权利。</p>
        </div>
    </footer>

    <script>
        // 播放游戏函数
        function playGame() {
      // 显示加载动画
      document.getElementById('loadingOverlay').style.display = 'flex';
      
      // 跟踪游戏点击
      if (typeof gtag !== 'undefined') {
          gtag('event', 'play_game', {
              'event_category': 'engagement',
              'event_label': "My Wedding",
              'game_type': "Dress-up"
          });
      }
      
      // 直接跳转到游戏嵌入URL
      setTimeout(() => {
          window.location.href = "https://play.famobi.com/wrapper/my-wedding/A1000-10?ref=allpopulargames";
      }, 500);
  }
        
        // 页面加载时间
        const pageLoadTime = new Date();

        // 在页面即将离开时统计停留时间
        window.addEventListener('beforeunload', function() {
            const stayDuration = Math.round((new Date() - pageLoadTime) / 1000);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_time', {
                    'event_category': 'engagement',
                    'event_label': "My Wedding",
                    'value': stayDuration
                });
            }
        });
        
        // 延迟加载非关键资源
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟200ms后加载相关游戏
            setTimeout(loadRelatedGames, 200);
        });
        
        // 加载相关游戏
        function loadRelatedGames() {
            fetch('/allpopulargames_games.json')
            .then(response => response.json())
            .then(games => {
                // 筛选相同类型的游戏，排除当前游戏
                const relatedGames = games
                    .filter(game => 
                        game.type.includes("Dress-up") && 
                        game.title !== "My Wedding")
                    .slice(0, 4); // 最多显示4个相关游戏
                
                // 如果相关游戏不足4个，添加其他类型的游戏
                if (relatedGames.length < 4) {
                    const otherGames = games
                        .filter(game => 
                            !game.type.includes("Dress-up") && 
                            game.title !== "My Wedding")
                        .slice(0, 4 - relatedGames.length);
                    
                    relatedGames.push(...otherGames);
                }
                
                // 显示相关游戏
                const gamesContainer = document.getElementById('related-games-container');
                
                if (relatedGames.length > 0) {
                    gamesContainer.innerHTML = relatedGames.map(game => {
                        const gameSlug = game.title.toLowerCase().replace(/[^a-z0-9]+/g, '-');
                        return `<div class="game-card-small">
                            <img src="${game.thumbUrl || '../images/game-placeholder.jpg'}" alt="${game.title}" loading="lazy">
                            <h3>${game.title}</h3>
                            <a href="/games/${gameSlug}.html" class="btn-small">查看</a>
                        </div>`;
                    }).join('');
                } else {
                    gamesContainer.innerHTML = '<p style="color: #aaa;">暂无相关游戏</p>';
                }
            })
            .catch(error => {
                console.error('加载相关游戏失败:', error);
                document.getElementById('related-games-container').innerHTML = 
                    '<p style="color: #aaa;">加载相关游戏失败</p>';
            });
        }
    </script>
    <script>
// 游戏页面国际化函数
// 游戏页面国际化函数模板
// 使用方式：将此文件中的代码复制到每个游戏页面，并替换游戏相关的描述文本
// 游戏页面国际化函数模板
// 使用方式：将此文件中的代码复制到每个游戏页面，并替换游戏相关的描述文本
// 游戏页面国际化函数模板
// 使用方式：将此文件中的代码复制到每个游戏页面，并替换游戏相关的描述文本
const GameI18N = {
  // 语言定义 - 针对游戏页面特定文本
  translations: {
    "zh": {
      "viewGame": "查看",
      "playNow": "开始游戏",
      "loading": "正在加载游戏，请稍候...",
      "fullscreen": "全屏模式",
      "relatedGames": "您可能也喜欢",
      "noRelatedGames": "暂无相关游戏",
      "loadFailed": "加载相关游戏失败",
      "loadingRelatedGames": "正在加载相关游戏...",
      "backToHome": "返回首页",
      "home": "首页",
      "aboutGame": "关于 My Wedding", // 需替换
      "gameFeatures": "游戏特点",
      "howToStart": "如何开始",
      "freeToPlay": "完全免费游玩",
      "noDownload": "无需下载，即点即玩",
      "deviceSupport": "支持电脑和手机设备",
      "beautifulGraphics": "精美的游戏画面",
      "simpleControls": "简单易懂的操作",
      "allAges": "适合所有年龄段玩家",
      "advertisement": "广告",
      "startInstruction": "点击上方的\"开始游戏\"按钮，即可立即体验《My Wedding》。游戏完全免费，无需下载，支持PC和移动设备。", // 需替换
      "copyright": "保留所有权利。",
      "aboutUs": "关于我们",
      "privacyPolicy": "隐私政策",
      "termsOfUse": "使用条款",
      "contactUs": "联系我们",
      "features": {
        "freeGame": "免费游戏",
        "online": "在线玩",
        "deviceFriendly": "全设备支持"
      },
      // 以下两项需要根据具体游戏替换
      "gameDescription": "《My Wedding》是一款精彩的Dress-up游戏。一款有趣的在线游戏，随时随地畅玩。无需下载，直接在浏览器中即可开始游戏，支持电脑和手机设备。点击\"开始游戏\"立即体验！",
      "gameDetailedDescription": "《My Wedding》为玩家提供了精彩的游戏体验。这款游戏设计精良，玩法简单但富有深度，适合各年龄段的玩家。游戏画面精美，音效出色，为玩家创造了一个身临其境的游戏环境。"
    },
    "en": {
      "viewGame": "View",
      "playNow": "Play Now",
      "loading": "Loading game, please wait...",
      "fullscreen": "Fullscreen Mode",
      "relatedGames": "You May Also Like",
      "noRelatedGames": "No related games available",
      "loadFailed": "Failed to load related games",
      "loadingRelatedGames": "Loading related games...",
      "backToHome": "Back to Home",
      "home": "Home",
      "aboutGame": "About My Wedding", // 需替换
      "gameFeatures": "Game Features",
      "howToStart": "How to Start",
      "freeToPlay": "Completely free to play",
      "noDownload": "No download required, just click and play",
      "deviceSupport": "Supports PC and mobile devices",
      "beautifulGraphics": "Beautiful game graphics",
      "simpleControls": "Simple and intuitive controls",
      "allAges": "Suitable for players of all ages",
      "advertisement": "Advertisement",
      "startInstruction": "Click the \"Play Now\" button above to experience My Wedding immediately. The game is completely free, requires no download, and supports both PC and mobile devices.", // 需替换
      "copyright": "All Rights Reserved.",
      "aboutUs": "About Us",
      "privacyPolicy": "Privacy Policy",
      "termsOfUse": "Terms of Use",
      "contactUs": "Contact Us",
      "features": {
        "freeGame": "Free Game",
        "online": "Play Online",
        "deviceFriendly": "All Devices"
      },
      // 以下两项需要根据具体游戏替换
      "gameDescription": "My Wedding is an exciting Dress-up game. A fun online game that you can play anytime, anywhere. No download required, play directly in your browser, supports both PC and mobile devices. Click \"Play Now\" to experience it immediately!",
      "gameDetailedDescription": "My Wedding offers players an exciting gaming experience. This well-designed game has simple gameplay but great depth, suitable for players of all ages. With beautiful graphics and excellent sound effects, it creates an immersive gaming environment."
    }
  },
  
  // 当前语言（从localStorage获取）
  currentLang: localStorage.getItem('preferred_language') || 'en',
  
  // 获取翻译文本
  t(key) {
    // 支持点notation访问嵌套结构
    const keys = key.split('.');
    let result = this.translations[this.currentLang];
    
    for (const k of keys) {
      if (result && result[k] !== undefined) {
        result = result[k];
      } else {
        return key; // 如果找不到翻译，返回原始键
      }
    }
    
    return result;
  },
  
  // 更新页面上的游戏相关文本
  updateGamePageTexts() {
    console.log(`正在应用游戏页面翻译，当前语言: ${this.currentLang}`);
    
    // 更新游戏按钮
    const playButton = document.querySelector('.play-button');
    if (playButton) {
      playButton.innerHTML = `<i class="fas fa-play-circle"></i> ${this.t('playNow')}`;
    }
    
    // 更新游戏描述（红框中的区域）
    const gameDescriptionElement = document.querySelector('.game-description');
    if (gameDescriptionElement) {
      gameDescriptionElement.textContent = this.t('gameDescription');
    }
    
    // 更新详细游戏描述（第二个红框区域）
    const gameDetailedDescriptionElement = document.querySelector('.game-content-seo .seo-content > p:first-child');
    if (gameDetailedDescriptionElement) {
      gameDetailedDescriptionElement.textContent = this.t('gameDetailedDescription');
    }
    
    // 更新加载文本
    const loadingText = document.querySelector('.loading-overlay p');
    if (loadingText) {
      loadingText.textContent = this.t('loading');
    }
    
    // 更新面包屑导航
    const breadcrumbHome = document.querySelector('.breadcrumb li:first-child a');
    if (breadcrumbHome) {
      breadcrumbHome.textContent = this.t('home');
    }
    
    // 更新返回首页按钮
    const backBtn = document.querySelector('.btn-back');
    if (backBtn) {
      backBtn.innerHTML = `<i class="fas fa-home"></i> ${this.t('backToHome')}`;
    }
    
    // 更新相关游戏标题
    const relatedTitle = document.querySelector('.related-games h2');
    if (relatedTitle) {
      relatedTitle.textContent = this.t('relatedGames');
    }
    
    // 更新正在加载相关游戏的提示
    const loadingRelatedGames = document.querySelector('#related-games-container p');
    if (loadingRelatedGames && loadingRelatedGames.style.color === '#aaa') {
      loadingRelatedGames.textContent = this.t('loadingRelatedGames');
    }
    
    // 更新"关于游戏"标题
    const aboutTitle = document.querySelector('.game-content-seo h2');
    if (aboutTitle) {
      aboutTitle.textContent = this.t('aboutGame');
    }
    
    // 更新游戏特点标题
    const featuresTitle = document.querySelector('.game-content-seo h3:first-of-type');
    if (featuresTitle) {
      featuresTitle.textContent = this.t('gameFeatures');
    }
    
    // 更新如何开始标题
    const howToStartTitle = document.querySelector('.game-content-seo h3:nth-of-type(2)');
    if (howToStartTitle) {
      howToStartTitle.textContent = this.t('howToStart');
    }
    
    // 更新游戏特点列表
    const featuresList = document.querySelectorAll('.game-content-seo ul li');
    if (featuresList.length > 0) {
      const featureTexts = [
        this.t('freeToPlay'),
        this.t('noDownload'),
        this.t('deviceSupport'),
        this.t('beautifulGraphics'),
        this.t('simpleControls'),
        this.t('allAges')
      ];
      
      featuresList.forEach((item, index) => {
        if (index < featureTexts.length) {
          item.textContent = featureTexts[index];
        }
      });
    }
    
    // 更新如何开始说明
    const startInstructions = document.querySelector('.game-content-seo h3:nth-of-type(2) + p');
    if (startInstructions) {
      startInstructions.textContent = this.t('startInstruction');
    }
    
    // 更新广告标签
    const adLabel = document.querySelector('.ad-label');
    if (adLabel) {
      adLabel.textContent = this.t('advertisement');
    }
    
    // 更新特性文本
    document.querySelectorAll('.game-features .feature').forEach(feature => {
      const span = feature.querySelector('span');
      if (!span) return;
      
      const text = span.textContent.trim();
      if (text === '免费游戏' || text === 'Free Game') {
        span.textContent = this.t('features.freeGame');
      } else if (text === '在线玩' || text === 'Play Online') {
        span.textContent = this.t('features.online');
      } else if (text === '全设备支持' || text === 'All Devices') {
        span.textContent = this.t('features.deviceFriendly');
      }
    });
    
    // 更新页脚链接
    const footerLinks = document.querySelectorAll('footer .footer-links a');
    footerLinks.forEach(link => {
      if (link.textContent === '关于我们' || link.textContent === 'About Us') {
        link.textContent = this.t('aboutUs');
      } else if (link.textContent === '隐私政策' || link.textContent === 'Privacy Policy') {
        link.textContent = this.t('privacyPolicy');
      } else if (link.textContent === '使用条款' || link.textContent === 'Terms of Use') {
        link.textContent = this.t('termsOfUse');
      } else if (link.textContent === '联系我们' || link.textContent === 'Contact Us') {
        link.textContent = this.t('contactUs');
      }
    });
    
    // 更新版权信息
    const copyright = document.querySelector('.copyright');
    if (copyright) {
      copyright.textContent = `© ${new Date().getFullYear()} AllPopularGames. ${this.t('copyright')}`;
    }
    
    // 更新相关游戏卡片上的查看按钮
    document.querySelectorAll('.btn-small').forEach(btn => {
      if (btn.textContent === '查看' || btn.textContent === 'View') {
        btn.textContent = this.t('viewGame');
      }
    });
    
    console.log('游戏页面翻译完成');
  },
  
  // 监听语言变化并更新
  listenForLanguageChange() {
    window.addEventListener('languageChanged', (e) => {
      console.log(`检测到语言变更事件，新语言: ${e.detail.language}`);
      this.currentLang = e.detail.language;
      this.updateGamePageTexts();
    });
  },
  
  // 手动切换语言
  switchLanguage() {
    const newLang = this.currentLang === 'zh' ? 'en' : 'zh';
    console.log(`手动切换语言至: ${newLang}`);
    this.currentLang = newLang;
    localStorage.setItem('preferred_language', newLang);
    this.updateGamePageTexts();
    
    // 触发语言变更事件，通知其他组件
    window.dispatchEvent(new CustomEvent('languageChanged', { 
      detail: { language: newLang } 
    }));
    
    // 更新按钮文本
    const langBtn = document.querySelector('.btn-language');
    if (langBtn) {
      langBtn.textContent = newLang === 'zh' ? 'English' : '中文';
    }
  },
  
  // 初始化
  init() {
    console.log('初始化游戏页面国际化，当前语言：', this.currentLang);
    
    // 立即应用翻译
    this.updateGamePageTexts();
    
    // 监听语言变化
    this.listenForLanguageChange();
    
    // 为语言切换按钮添加事件
    const langBtn = document.querySelector('.btn-language');
    if (langBtn) {
      console.log('找到语言切换按钮，添加点击事件');
      // 移除可能存在的旧事件监听器
      langBtn.replaceWith(langBtn.cloneNode(true));
      
      // 重新获取按钮并添加事件
      const newLangBtn = document.querySelector('.btn-language');
      newLangBtn.addEventListener('click', () => this.switchLanguage());
      console.log('语言切换按钮事件已添加');
    } else {
      console.log('未找到语言切换按钮');
    }
  }
};

// 初始化游戏页面国际化
document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM已加载完成，初始化游戏页面国际化');
  GameI18N.init();
}); ;

// 初始化游戏页面国际化
document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM已加载完成，初始化游戏页面国际化');
  GameI18N.init();
}); ;

// 初始化游戏页面国际化
document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM已加载完成，初始化游戏页面国际化');
  GameI18N.init();
}); 
</script>
</body>
</html>